<%= form_with model: @post, url: post_path(@post), multipart: true, local: true do |f| %>
  <%= render 'shared/error_messages', object: f.object %> 
    <div class="py-6 sm:py-8 lg:py-12">
      <div class="mx-auto max-w-screen-3xl px-8 md:px-8">
        <h2 class="mb-4 text-center text-2xl font-bold text-gray-800 md:mb-8 lg:text-3xl">投稿編集</h2>
        <div class="mx-auto max-w-lg rounded-lg border  bg-white">
          <div class="flex flex-wrap m-4">
            <div class="w-full px-4 md:w-full">
              <div class="mb-4">
                <%= f.label :line_id, "路線名", class: "mb-1 inline-block text-lg text-gray-800" %>
                <%= f.collection_select :line_id, Line.all, :id, :name, { prompt: "選択" }, { class: "w-full rounded border bg-gray-50 px-3 py-3 text-gray-800 outline-none ring-customorange ring-opacity-40 transition duration-100 focus:ring" } %>
              </div>
              <div class="mb-4">
                <%= f.label :photo_image, "写真", class: "mb-1 inline-block text-lg text-gray-800" %>
                <div style="display: flex; justify-content: center;">
                  <%= image_tag @post.photo_image.url, class: 'height:200px; width:auto;' if @post.photo_image.present? %>
                </div>
                <%= f.file_field :photo_image, class: "w-full rounded border bg-gray-50 px-3 py-3 text-gray-800 outline-none ring-customorange ring-opacity-40 transition duration-100 focus:ring", accept: 'image/*' %>
                <%= f.hidden_field :photo_image_cache %>
              </div>
              
              <div class="mb-4">
                <%= f.label :prefecture_id, "都道府県", class: "mb-1 inline-block text-lg text-gray-800" %>
                <%= f.collection_select :prefecture_id, Prefecture.all, :id, :name, { prompt: "都道府県を選択" }, { class: "w-full rounded border bg-gray-50 px-3 py-3 text-gray-800 outline-none ring-customorange ring-opacity-40 transition duration-100 focus:ring" } %>
              </div>
              <div class="mb-4">
                <%= f.label :station_id, "駅名", class: "mb-1 inline-block text-lg text-gray-800" %>
                <%= f.collection_select :station_id, Station.all, :id, :name, { prompt: "選択" }, { class: "w-full rounded border bg-gray-50 px-3 py-3 text-gray-800 outline-none ring-customorange ring-opacity-40 transition duration-100 focus:ring" } %>
              </div>
              <div class="mb-4">
                <%= f.label :location, "撮影場所", class: "mb-1 inline-block text-lg text-gray-800" %>
                <%= f.text_field :location, id: "location",  class: "w-full rounded border bg-gray-50 px-3 py-3 text-gray-800 outline-none ring-customorange ring-opacity-40 transition duration-100 focus:ring", placeholder: "撮影場所を入力", autocomplete: "address" %>
              </div>
              <div class="mb-4">
                <%= f.label :comment, "コメント", class: "mb-2 inline-block text-lg text-gray-800" %>
                <%= f.text_area :comment, rows: 3, class: "w-full rounded border bg-gray-50 px-3 py-3 text-gray-800 outline-none ring-customorange ring-opacity-40 transition duration-100 focus:ring", placeholder: "コメントを入力" %>
              </div>
              <div class="grid">
                <%= f.submit '編集する', class: 'py-3 px-4 inline-flex justify-center items-center gap-x-2 text-sm font-medium rounded-lg border border-transparent bg-blue-600 text-white hover:bg-blue-700 focus:outline-none focus:bg-blue-700 disabled:opacity-50 disabled:pointer-events-none', data: { turbo: false } %>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
<% end %>
