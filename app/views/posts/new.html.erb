<%= form_with model: @post, url: posts_path, multipart: true, local: true do |f| %>
<%= render 'shared/error_messages', object: f.object %> 
  <div class="bg-red-50 py-6 sm:py-8 lg:py-12">
    <div class="mx-auto max-w-screen-3xl px-8 md:px-8">
      <h2 class="mb-4 text-center text-2xl font-bold text-gray-800 md:mb-8 lg:text-3xl">新規投稿</h2>
      <div class="mx-auto max-w-4xl rounded-lg border bg-white">
        <div class="flex flex-wrap m-4">
          <div class="w-full px-4 md:w-1/2">

            <div class="mb-4">
              <%= f.label :prefecture_id, "都道府県", class: "mb-1 inline-block text-lg text-gray-800" %>
              <%= f.collection_select :prefecture_id, Prefecture.all, :id, :name, { prompt: "都道府県を選択" }, { class: "w-full rounded border bg-gray-50 px-3 py-3 text-gray-800 outline-none ring-customorange ring-opacity-40 transition duration-100 focus:ring" } %>
            </div>

            <div class="mb-4">
              <%= f.label :line_id, "路線名", class: "mb-1 inline-block text-lg text-gray-800" %>
              <%= f.collection_select :line_id, [], :id, :name, { prompt: "路線名を選択" }, { id: 'line_select', class: "w-full rounded border bg-gray-50 px-3 py-3 text-gray-800 outline-none ring-customorange ring-opacity-40 transition duration-100 focus:ring", onchange: "updateStations()" } %>
            </div>

            <div class="mb-4">
              <%= f.label :station_id, "駅名", class: "mb-1 inline-block text-lg text-gray-800" %>
              <%= f.collection_select :station_id, [], :id, :name, { prompt: "駅名を選択" }, { id: 'station_select', class: "w-full rounded border bg-gray-50 px-3 py-3 text-gray-800 outline-none ring-customorange ring-opacity-40 transition duration-100 focus:ring" } %>
            </div>

            <div class="mb-4">
              <%= f.label :photo_image, "写真", class: "mb-1 inline-block text-lg text-gray-800" %>
              <%= f.file_field :photo_image, class: "w-full rounded border bg-gray-50 px-3 py-3 text-gray-800 outline-none ring-customorange ring-opacity-40 transition duration-100 focus:ring", accept: 'image/*' %>
              <%= f.hidden_field :photo_image_cache %>
            </div>

            <div class="mb-4">
              <%= f.label :location, "撮影場所", class: "mb-1 inline-block text-lg text-gray-800" %>
              <%= f.text_field :location, id: "location", class: "w-full rounded border bg-gray-50 px-3 py-3 text-gray-800 outline-none ring-customorange ring-opacity-40 transition duration-100 focus:ring", placeholder: "2番ホーム先頭など", autocomplete: "address" %>
            </div>
            <div class="mb-4">
              <%= f.label :shooting_time, "おすすめ撮影時間", class: "mb-1 inline-block text-lg text-gray-800" %>
              <%= f.text_field :shooting_time, id: "shooting_time", class: "w-full rounded border bg-gray-50 px-3 py-3 text-gray-800 outline-none ring-customorange ring-opacity-40 transition duration-100 focus:ring", placeholder: "14時頃など", autocomplete: "address" %>
            </div>

            <div class="mb-4">
              <%= f.label :comment, "コメント", class: "mb-2 inline-block text-lg text-gray-800" %>
              <%= f.text_area :comment, rows: 3, class: "w-full rounded border bg-gray-50 px-3 py-3 text-gray-800 outline-none ring-customorange ring-opacity-40 transition duration-100 focus:ring", placeholder: "コメントを入力" %>
            </div>
            <%= f.submit "投稿する", class: "w-full rounded-lg border bg-gray-50 px-8 py-3 mt-3 text-center font-semibold text-gray-800 outline-none ring-gray-300 transition duration-100 hover:bg-gray-700 focus-visible:ring active:bg-gray-600 md:text-base", data: { turbo: false } %>
          </div>
        </div>
      </div>
    </div>
  </div>
<% end %>
